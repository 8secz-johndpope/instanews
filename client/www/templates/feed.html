<!DOCTYPE html>
<ion-view view-title="Instanews" style="background-color: #C0C0C0">
   <ion-nav-buttons side="secondary">
      <button class="button button-clear icon ion-plus-round"
         ng-click="postArticleModal.show($event)">
      </button>
   </ion-nav-buttons>
   <ion-content>
      <ion-refresher pulling-text="Fresh Stuff" on-refresh="onRefresh()">
      </ion-refresher>
      <ul class="list">
         <ion-item class="no-padding card" ng-repeat="article in articles | orderBy: '-(_votes.up - _votes.down)'">
            <div class="item item-avatar item-text-wrap" style="min-height:65px" >
               <img src="img/ionic.png">
               <a class="button button-clear no-padding button-small"
                  href="#/journalists/{{article.username}}">
                  {{article.username}}
               </a>

               <a class="button button-clear button-full"
                  style="margin: 0px;"
                  href="#/tab/articles/{{article.myId}}">
                  {{article.title}}
               </a>

               <votes class="item no-padding"
                  style="border: transparent"
                  voteable="article">
               </votes>
            </div>

            <comments owner="article"></comments>
         </li>
      </ul>
      <ion-infinite-scroll
         on-infinite="loadMore()"
         distance="1%">
      </ion-infinite-scroll>
   </ion-content>
</ion-view>
