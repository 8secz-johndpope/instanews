<!DOCTYPE html>
<ion-view view-title="Article">
   <ion-content>
      <ion-list>
         <ion-item style="border: transparent"
            collection-repeat="subarticle in subarticles | orderBy: '-(_votes.up - _votes.down)'"
            collection-item-width="'720px'"
            collection-item-height="getSubarticleHeight(subarticle)+ 170">

            <div class="">
               <div class="item item-divider">
                  <a class="button button-clear button-small" href="#/journalists/{{subarticle.username}}">
                     @{{subarticle.username}}
                  </a>
               </div>

               <div class="item item-body" style="width: 720px;">
                  <div ng-show="subarticle.text">
                     <p>{{subarticle.text}}</p>
                  </div>
                  <file-item ng-if="subarticle._file"></file-item>
               </div>

               <div class="item item-divider">
                  <div class="item-icon-right">
                     <button class="item button button-clear icon ion-chevron-right"></button>
                  </div>
                  <button class="item button button-clear button-balanced ion-chevron-up"
                     ng-click="upvote(subarticle, $index)">
                      {{subarticle._votes.up}}
                   </button>
                  <button class="item button button-clear button-assertive ion-chevron-down"
                    ng-click="downvote(subarticle, $index)">
                     {{subarticle._votes.down}}
                  </button>
               </div>
               <!--
               <div class="item">
                  <div class="card" ng-repeat"comment in subarticle.comments | orderBy: '-(_votes.up - _votes.down)'">
                     {{comment.content}}
                  </div>
               </div>
               -->
            </div>
         </ion-item>
      </ion-list>
   </ion-content>
</ion-view>
