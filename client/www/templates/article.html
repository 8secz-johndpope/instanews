<!DOCTYPE html>
<ion-view view-title="{{article.title}}" style="background-color: #C0C0C0">
   <ion-nav-buttons side="secondary">
      <a class="button button-clear icon ion-plus-round"
         ui-sref="subarticlePost({id: article.myId})">
      </a>
   </ion-nav-buttons>
   <ion-content>
      <ion-refresher pulling-text="Fresh Stuff" on-refresh="onRefresh()">
      </ion-refresher>
      <div class="item no-padding" style="width:100%;height:38%">
         <inMap>
            <div style="width:100%;height:100%" id="articleMap"></div>
         </inMap>
      </div>
      <ul class="list">
         <ion-item class="no-padding card"
         ng-repeat="subarticle in subarticles | orderBy: '-(rating)'">
            <div class="item item-avatar item-text-wrap" style="min-height:65px" >
               <img src="img/ionic.png">
               <a class="button button-clear no-padding button-small"
                  ui-sref="app.profile({username: subarticle.username})">
                  {{subarticle.username}}
               </a>
               <p>{{subarticle.text}}</p>

            </div>

            <div class="item item-body"
               style="padding-right:0px;padding-left:0px;padding-top:0px;padding-bottom:1px"
               ng-if="subarticle._file">
               <inData data="subarticle._file" id="subarticle.myId"></inData>
            </div>

            <div class="item" style="border:0px;padding-top:0px;padding-bottom:0px">
               <inVotes style="border: transparent"
                  votable="subarticle">
               </inVotes>
               <inComments owner="subarticle"></inComments>
            </div>

         </ion-item>
      </ul>
      <ion-infinite-scroll
         ng-if="itemsAvailable"
         on-infinite="loadMore()"
         distance="10%">
      </ion-infinite-scroll>
   </ion-content>
</ion-view>
