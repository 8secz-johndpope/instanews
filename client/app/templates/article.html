<!DOCTYPE html>
<ion-view view-title="{{article.title}}" 
  style="background: #F0F0F0">
  <ion-nav-title>{{article.title}}</ion-nav-title>
  <ion-nav-buttons side="secondary">
    <div ng-if="!Platform.isBrowser()" style="width:34px;">
      <div ng-show="uploads.length > 0">
        <button  ng-click="uploadModal.show();"
          class="button button-clear icon ion-plus">
        </button>
      </div>
      <div ng-hide="uploads.length > 0">
        <in-speed-dial style="width:34px;" position="'top-right'" uploads="Uploads"></in-speed-dial>
      </div>
    </div>
  </ion-nav-buttons>

  <ion-content delegate-handle="subarticle" on-swipe-down="onSwipeDown()" overflow-scroll="true" class="gpu">
    <ion-refresher pulling-text="Fresh Stuff" on-refresh="onRefresh()">
    </ion-refresher>
    <in-list list="Subarticles"
      is-not-infinite="true" 
      is-card="true"> 
      <inMap map="map"></inMap>
      <div class="item dynamic-box"
        ng-class="{'card' : Platform.getWidth() >= 768 || Platform.isLandscape()}"
        style="border:0px;padding-top:0px;padding-bottom:0px">
         <inVotes style="border: transparent"
            votable="article">
         </inVotes>
         <inComments owner="article"></inComments>
      </div>
    </in-list>
    <div ng-show="Subarticles.areItemsAvaialable()" class="list-end">
      <ion-spinner></ion-spinner>
    </div>
    <div ng-hide="Subrticles.areItemsAvailable()" class="list-end">
       No more items
    </div>
  </ion-content>
  <in-text-footer></in-text-footer>
</ion-view>
